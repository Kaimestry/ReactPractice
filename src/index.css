@tailwind base;
@tailwind components;
@tailwind utilities;

/* âœ… Light mode defaults */
:root {
  /* your palette */
  --color-primary-900: #2c3139;
  --color-primary-700: #717b80;
  --color-primary-500: #9fb0b9;
  --color-primary-300: #c9dddf;
  --color-primary-100: #e0fbfc;

  /* semantic tokens (light) */
  --bg-main: var(--color-primary-100);
  --bg-muted: #cee6f1;
  --bg-hover: var(--color-primary-500);
  --bg-highlight: #49a35a;

  --text-highlight: #49a35a;
  --text-primary: var(--color-primary-900);
  --text-secondary: var(--color-primary-700);
  --text-muted: var(--color-primary-700);

  --border-default: var(--color-primary-500);
}

/* âœ… Dark mode overrides */
.dark {
  --bg-highlight: #4dbd61;
  --bg-main: var(--color-primary-900);
  --bg-hover: var(--color-primary-700);
  --bg-muted: #242a32;

  --surface-1: #2b3a40;
  --surface-2: #31434a;

  --border-default: rgba(157, 180, 192, 0.35);

  --text-highlight: #4dbd61;
  --text-primary: var(--color-primary-100);
  --text-secondary: var(--color-primary-300);
  --text-muted: var(--color-primary-700);
}

@layer utilities {
  /* COLOR PALETE */
  .text-highlight {
    color: var(--text-highlight);
  }
  .text-primary {
    color: var(--text-primary);
  }
  .text-secondary {
    color: var(--text-secondary);
  }
  .text-muted {
    color: var(--text-muted);
  }

  .bg-highlight {
    background-color: var(--bg-highlight);
  }
  .bg-main {
    background-color: var(--bg-main);
  }
  .bg-muted {
    background-color: var(--bg-muted);
  }
}

@layer components {
  /* =============
  NAVIGATION 
  ===============*/
  .nav-sidebar {
    @apply flex flex-col justify-between h-screen gap-4 bg-muted p-2 w-56  flex-shrink-0;
    transition: width 0.2s ease;
    overflow: hidden;
  }

  /* NAV LINK */
  .nav-link {
    @apply text-sm flex items-center gap-2 px-2 py-2 rounded-md w-full;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis; /* optional */
  }

  .nav-link:hover,
  .nav-link-active {
    background-color: var(--bg-hover);
  }

  /* 
   NAV LINK (action)
 */
  .nav-link-action {
    @apply text-sm flex items-center justify-center mt-1 gap-1 px-2 py-2 rounded-md
    bg-highlight font-semibold
    hover:opacity-80;
    color: var(--bg-main);
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis; /* optional */
  }

  /* 
   ICONS
 */
  .nav-link span,
  .nav-link-action span {
    @apply text-xl;
  }

  .action-icon {
    @apply text-2xl rounded-md;
  }

  .action-icon:hover {
    color: var(--bg-highlight);
  }

  /* 
   TITLES & TEXT
 */
  .nav-title {
    @apply text-xs text-muted ml-2;
  }

  .nav-sidebar section h1 {
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis; /* optional */
  }

  /* 
   NAV SIDEBAR (collapsed)
 */
  .nav-sidebar.collapsed {
    width: 53px;
  }

  .nav-sidebar.collapsed section {
    @apply flex justify-center pt-2;
  }

  .nav-sidebar.collapsed .nav-title {
    opacity: 0;
  }

  .nav-sidebar.collapsed .action-icon {
    color: var(--bg-highlight);
  }

  /* 
   COLLAPSED VISIBILITY
 */
  .nav-sidebar.collapsed section h1,
  .nav-sidebar.collapsed .nav-link p,
  .nav-sidebar.collapsed .nav-link-action p,
  .nav-sidebar.collapsed figure {
    display: none;
  }
  /* ===========
  REPORT ITEMS 
  ==============*/
  .report-block {
    @apply rounded-md p-4 flex flex-col;
    background-color: var(--bg-muted);
    max-height: 290px;
    flex-grow: 1;
  }

  .report-block.priority {
    flex-grow: 2; /* ðŸ†• PRIORITY */
  }

  .block-title {
    @apply text-left font-semibold flex justify-between items-center;
  }

  /* metrics */
  .report-metric {
    @apply flex flex-col justify-between;
    aspect-ratio: 3 / 1; /* width / height */
    max-height: 100px;
    min-width: 120px;
  }

  /* charts */
  .report-chart {
    @apply w-1/4 min-w-[300px] max-w-[500px]; /* ðŸ”§ CHANGED */
  }
}
